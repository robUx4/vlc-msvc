From aadba6947d76f055ca9f4d3222c1bac7b7ab0917 Mon Sep 17 00:00:00 2001
From: Steve Lhomme <robux4@videolabs.io>
Date: Wed, 24 Jun 2015 16:50:28 +0200
Subject: [PATCH 74/99] vout: don't build direct2d and directdraw with
 HAVE_WINSTORE

---
 modules/video_output/Makefile.am | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/modules/video_output/Makefile.am b/modules/video_output/Makefile.am
index 5d468e0..7620f18 100644
--- a/modules/video_output/Makefile.am
+++ b/modules/video_output/Makefile.am
@@ -158,6 +158,7 @@ endif
 
 
 ### Win32 ###
+if !HAVE_WINSTORE
 libdirect2d_plugin_la_SOURCES = video_output/msw/direct2d.c \
 	video_output/msw/common.c video_output/msw/common.h \
 	video_output/msw/events.c video_output/msw/events.h \
@@ -180,6 +181,7 @@ libdirect3d9_plugin_la_LIBADD = -lgdi32 -lole32 -luuid
 libdirect3d9_plugin_la_LDFLAGS = $(AM_LDFLAGS) -rpath '$(voutdir)'
 vout_LTLIBRARIES += $(LTLIBdirect3d9)
 EXTRA_LTLIBRARIES += libdirect3d9_plugin.la
+endif
 
 libdirect3d11_plugin_la_SOURCES = video_output/msw/direct3d11.c \
  video_output/msw/common.c video_output/msw/common.h
@@ -197,6 +199,7 @@ libdirect3d11_plugin_la_LDFLAGS = $(AM_LDFLAGS) -rpath '$(voutdir)'
 vout_LTLIBRARIES += $(LTLIBdirect3d11)
 EXTRA_LTLIBRARIES += libdirect3d11_plugin.la
 
+if !HAVE_WINSTORE
 libdirectdraw_plugin_la_SOURCES = video_output/msw/directdraw.c \
 	video_output/msw/common.c video_output/msw/common.h \
 	video_output/msw/events.c video_output/msw/events.h \
@@ -232,6 +235,7 @@ if !HAVE_WINSTORE
 vout_LTLIBRARIES += libwingdi_plugin.la
 endif
 endif
+endif
 
 libegl_win32_plugin_la_SOURCES = video_output/egl.c
 libegl_win32_plugin_la_CPPFLAGS = $(AM_CPPFLAGS) -DUSE_PLATFORM_WIN32=1
-- 
1.9.5.msysgit.0

