From 7364ba50bd860c85d5567034a7ad5997f733c3e7 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Hugo=20Beauz=C3=A9e-Luyssen?= <hugo@beauzee.fr>
Date: Thu, 20 Nov 2014 16:19:30 +0100
Subject: [PATCH 039/128] contribs: ffmpeg: Enable native msvc build & tweak
 config for windows phone

---
 contrib/src/ffmpeg/rules.mak | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/contrib/src/ffmpeg/rules.mak b/contrib/src/ffmpeg/rules.mak
index 30e51d6..485b5b6 100644
--- a/contrib/src/ffmpeg/rules.mak
+++ b/contrib/src/ffmpeg/rules.mak
@@ -144,8 +144,10 @@ FFMPEGCONF += --enable-w32threads --enable-dxva2
 
 ifdef HAVE_WIN64
 FFMPEGCONF += --cpu=athlon64 --arch=x86_64
-else # !WIN64
-FFMPEGCONF+= --cpu=i686 --arch=x86
+endif
+
+ifdef HAVE_VISUALSTUDIO
+FFMPEGCONF += --toolchain=msvc
 endif
 
 else # !Windows
-- 
1.9.5.msysgit.1

