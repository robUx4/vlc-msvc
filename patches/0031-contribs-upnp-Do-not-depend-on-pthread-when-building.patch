From 0b077d3c173de56dbb643d198019e151cc42bdd0 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Hugo=20Beauz=C3=A9e-Luyssen?= <hugo@beauzee.fr>
Date: Wed, 22 Oct 2014 15:22:17 +0200
Subject: [PATCH 31/75] contribs: upnp: Do not depend on pthread when building
 with MSVC

---
 contrib/src/upnp/rules.mak | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/contrib/src/upnp/rules.mak b/contrib/src/upnp/rules.mak
index f6706b1..55f4ef9 100644
--- a/contrib/src/upnp/rules.mak
+++ b/contrib/src/upnp/rules.mak
@@ -12,7 +12,9 @@ $(TARBALLS)/libupnp-$(UPNP_VERSION).tar.bz2:
 .sum-upnp: libupnp-$(UPNP_VERSION).tar.bz2
 
 ifdef HAVE_WIN32
+ifndef HAVE_VISUALSTUDIO
 DEPS_upnp += pthreads $(DEPS_pthreads)
+endif
 LIBUPNP_ECFLAGS = -DPTW32_STATIC_LIB
 endif
 
-- 
2.2.0

